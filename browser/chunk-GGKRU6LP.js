import{a as H}from"./chunk-4GK6IUTD.js";import{a as k}from"./chunk-A3JR7QPY.js";import{c as F}from"./chunk-HLW4GTBQ.js";import{a as $}from"./chunk-JNRADKRC.js";import{a as B}from"./chunk-TREHUASH.js";import{a as R,b as U,j as G,k as L}from"./chunk-VSZ73G52.js";import{c as t,e as O,f as w,g as E,i as l,k as I,l as _,m as q,o as x}from"./chunk-SBAQOAMS.js";import"./chunk-ZUUGFAON.js";import{E as j,F as A}from"./chunk-LU4QPUQU.js";import{$ as C,Bc as P,Eb as d,Ka as i,Pa as u,Va as y,W as N,eb as m,nb as s,ob as a,pb as p,vb as D,xc as M}from"./chunk-W7RDRLIT.js";var f=class c{constructor(o){this.http=o}baseUrl=$.apiUrl;createDoctor(o){return this.http.post(`${this.baseUrl}/clinic/doctors`,o)}static \u0275fac=function(r){return new(r||c)(C(M))};static \u0275prov=N({token:c,factory:c.\u0275fac,providedIn:"root"})};var T=class c{constructor(o,r,n,g){this.signUpDataService=o;this._authService=r;this._doctorService=n;this.router=g;this.initFormControls(),this.initFormGroup(),console.log(o.getAccountDataData()),console.log(o.getDoctorData())}clinicForm;name;specialization;clinicPhoneNumber;secondPhoneNumber;clinicEmail;state;city;street;urlOnMap;minDescription;specializationOptions=Object.values(v).filter(o=>isNaN(Number(o))).map(o=>({label:o,value:v[o]}));initFormControls(){this.name=new l("",{nonNullable:!0,validators:[t.required,t.maxLength(100)]}),this.specialization=new l(null,{validators:[t.required]}),this.clinicPhoneNumber=new l("",{nonNullable:!0,validators:[t.required,t.pattern(/^[0-9]+$/),t.maxLength(20)]}),this.secondPhoneNumber=new l("",{nonNullable:!1,validators:[t.required,t.pattern(/^[0-9]+$/),t.maxLength(20)]}),this.clinicEmail=new l("",{nonNullable:!0,validators:[t.required,t.email]}),this.state=new l("",{nonNullable:!0,validators:[t.required,t.maxLength(100)]}),this.city=new l("",{nonNullable:!0,validators:[t.required,t.maxLength(100)]}),this.street=new l("",{nonNullable:!0,validators:[t.required,t.maxLength(100)]}),this.urlOnMap=new l("",{nonNullable:!1,validators:[t.maxLength(150)]}),this.minDescription=new l("",{nonNullable:!1,validators:[t.maxLength(500)]})}initFormGroup(){this.clinicForm=new E({name:this.name,specialization:this.specialization,clinicPhoneNumber:this.clinicPhoneNumber,secondPhoneNumber:this.secondPhoneNumber,clinicEmail:this.clinicEmail,state:this.state,city:this.city,street:this.street,urlOnMap:this.urlOnMap,minDescription:this.minDescription})}onSubmit(){if(this.clinicForm.valid){let o=this.signUpDataService.getAccountDataData(),r=this.signUpDataService.getDoctorData(),n={username:`${r.firstName} ${r.middelName} ${r.lastName} ${this.name.value}`,email:o.email,password:o.password},g=this._authService.signUp(n).subscribe({next:h=>{console.log("User ID:",h.data);let V={fullName:{firstName:r.firstName,middelName:r.middelName,lastName:r.lastName},gender:r.gender,dateOfBirth:r.dateOfBirth,phoneNumber:r.phoneNumber,emailAddress:o.email,notes:null,name:this.name.value,specialization:this.specialization.value,clinicEmail:this.clinicEmail.value,clinicPhoneNumber:this.clinicPhoneNumber.value,secondPhoneNumber:this.secondPhoneNumber.value,address:{state:this.state.value,city:this.city.value,street:this.street.value,urlOnMap:this.urlOnMap.value},minDescription:this.minDescription.value,userId:h.data};this._doctorService.createDoctor(V).subscribe({next:b=>{this.router.navigate(["auth","sign-in"])},error:b=>{console.error("Sign up failed:",b)}})},error:h=>{console.error("Sign up failed:",h.message)}})}}static \u0275fac=function(r){return new(r||c)(u(k),u(H),u(f),u(F))};static \u0275cmp=y({type:c,selectors:[["app-create-clinic"]],decls:25,vars:11,consts:[[1,"m-auto","text-center","mt-4"],[1,"fs-6","m-auto","my-4","text-center"],[1,"d-flex","justify-content-center"],[1,"shadow","p-3","mb-5","bg-body-tertiary","rounded-2","p-4",3,"ngSubmit","formGroup"],[1,"info-continer"],["icon","healing","label","Name","formControlName","name",3,"control"],["formControlName","specialization","label","Specialization","icon","list",3,"options"],[1,"contact-continer"],["icon","phone","label","Phone Number","type","number","formControlName","clinicPhoneNumber",3,"control"],["icon","phone","label","Second Phone Number","type","number","formControlName","secondPhoneNumber",3,"control"],["icon","email","type","email","label","Email","formControlName","clinicEmail",3,"control"],["icon","pin_drop","label","state","formControlName","state",3,"control"],["icon","pin_drop","label","City","formControlName","city",3,"control"],["icon","pin_drop","label","Street","formControlName","street",3,"control"],["icon","pin_drop","label","In Map","type","url","formControlName","urlOnMap",3,"control"],["icon","text_snippet","label","Min Description","formControlName","minDescription",3,"control"],[1,"button-container"],[1,"primary-button"],[1,"my-auto"],[1,"mx-2","my-auto","big-icon","p-0"]],template:function(r,n){r&1&&(s(0,"h1",0),d(1,"Your clinic inforamtion"),a(),s(2,"p",1),d(3,"Kindly provide the details of your clinic below."),a(),s(4,"div",2)(5,"form",3),D("ngSubmit",function(){return n.onSubmit()}),s(6,"div",4),p(7,"app-custom-input",5)(8,"app-custom-select",6),a(),s(9,"div",7),p(10,"app-custom-input",8)(11,"app-custom-input",9)(12,"app-custom-input",10),a(),s(13,"div",7),p(14,"app-custom-input",11)(15,"app-custom-input",12)(16,"app-custom-input",13),a(),p(17,"app-custom-input",14)(18,"app-custom-input",15),s(19,"div",16)(20,"button",17)(21,"span",18),d(22,"next setp"),a(),s(23,"mat-icon",19),d(24,"chevron_right"),a()()()()()),r&2&&(i(5),m("formGroup",n.clinicForm),i(2),m("control",n.name),i(),m("options",n.specializationOptions),i(2),m("control",n.clinicPhoneNumber),i(),m("control",n.secondPhoneNumber),i(),m("control",n.clinicEmail),i(2),m("control",n.state),i(),m("control",n.city),i(),m("control",n.street),i(),m("control",n.urlOnMap),i(),m("control",n.minDescription))},dependencies:[P,x,I,O,w,_,q,R,U,G,A,j,B,L],styles:["form[_ngcontent-%COMP%]{width:700px;background-color:#f9f9ff}p[_ngcontent-%COMP%]{color:#52525b;width:700px}.contact-continer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:10px}.info-continer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:15px}"]})},v=(e=>(e[e.GeneralPractitioner=1]="GeneralPractitioner",e[e.Cardiologist=2]="Cardiologist",e[e.Dermatologist=3]="Dermatologist",e[e.Neurologist=4]="Neurologist",e[e.Pediatrician=5]="Pediatrician",e[e.OrthopedicSurgeon=6]="OrthopedicSurgeon",e[e.Obstetrician=7]="Obstetrician",e[e.Gynecologist=8]="Gynecologist",e[e.Psychiatrist=9]="Psychiatrist",e[e.Radiologist=10]="Radiologist",e[e.Anesthesiologist=11]="Anesthesiologist",e[e.Oncologist=12]="Oncologist",e[e.Endocrinologist=13]="Endocrinologist",e[e.Nephrologist=14]="Nephrologist",e[e.Gastroenterologist=15]="Gastroenterologist",e[e.Ophthalmologist=16]="Ophthalmologist",e[e.Pathologist=17]="Pathologist",e[e.PlasticSurgeon=18]="PlasticSurgeon",e[e.Rheumatologist=19]="Rheumatologist",e[e.Urologist=20]="Urologist",e[e.Pulmonologist=21]="Pulmonologist",e[e.EmergencyMedicine=22]="EmergencyMedicine",e[e.Otolaryngologist=23]="Otolaryngologist",e[e.InfectiousDiseaseSpecialist=24]="InfectiousDiseaseSpecialist",e[e.Allergist=25]="Allergist",e[e.Hematologist=26]="Hematologist",e[e.Immunologist=27]="Immunologist",e[e.Geriatrician=28]="Geriatrician",e[e.PainManagementSpecialist=29]="PainManagementSpecialist",e[e.SportsMedicine=30]="SportsMedicine",e[e.Dentist=31]="Dentist",e))(v||{});export{T as CreateClinicComponent,v as Specialization};
